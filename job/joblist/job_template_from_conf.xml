<?xml version="1.0" encoding="utf-8"?>

<!--
  SUMS job template: fill placeholders from analysis_info (via analysis_info_helper.py, option generate-joblist).
  Placeholders: __JOB_NAME__, __RUN_MACRO__, __STARVER__, __SCRATCH_SUBDIR__, __OUTPUT_FILE_STEM__,
  __MAINCONF__, __WORK_DIR__, __CATALOG_URL__, __N_FILES__, __ANA_SO_PREFIX__
-->

<job name="__JOB_NAME__" simulateSubmission="false" maxFilesPerProcess="1" fileListSyntax="xrootd" copyInputLocally="true">

  <command>
    rm -f analysis/__ANA_SO_PREFIX___C.so analysis/__ANA_SO_PREFIX___C.d 2>/dev/null; pwd &amp;&amp; ls -la config &amp;&amp; starver __STARVER__ &amp;&amp; mkdir -p $SCRATCH/__SCRATCH_SUBDIR__ &amp;&amp; setenv LD_LIBRARY_PATH ${PWD}/lib:${LD_LIBRARY_PATH} &amp;&amp; root4star -q -b analysis/__RUN_MACRO__\(\"$FILELIST\",\"$SCRATCH/__SCRATCH_SUBDIR__/__OUTPUT_FILE_STEM___$JOBID.root\",\"$JOBID\",-1,\"__MAINCONF__\"\)
  </command>

  <stdout URL="file:__WORK_DIR__/log/stdout.$JOBID.out" />
  <stderr URL="file:__WORK_DIR__/err/stderr.$JOBID.err" />

  <input
      URL="__CATALOG_URL__"
      nFiles="__N_FILES__"
  />

  <SandBox>
    <Package>
      <File>file:./analysis/</File>
      <File>file:./lib/</File>
      <File>file:./config/</File>
      <File>file:./include/</File>
      <File>file:./StMaker/</File>
    </Package>
  </SandBox>

  <output fromScratch="__SCRATCH_SUBDIR__/__OUTPUT_FILE_STEM___$JOBID.root" toURL="file:__WORK_DIR__/rootfile/__SCRATCH_SUBDIR__/" />

</job>
